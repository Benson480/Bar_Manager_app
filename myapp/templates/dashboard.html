{% extends "master.html" %}

{% block title %}
  Dashboard | Bentha Technologies
{% endblock %}

{% block styles %}
<style>
  /* Dashboard container */
  .dashboard-container {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 20px;
    justify-items: center;
    align-items: center;
    background-color: #f0f7f4; 
    background-image: linear-gradient(#bfcccf17, rgba(145, 178, 190, 0.685)), url("https://www.nsta.org/sites/default/files/hero/Blog_NetworkingIsVitalComputerScienceTeacher.jpg");
    background-size: cover;
    background-position: center;
    padding: 20px 0;
    border-radius: 20px;
    box-shadow: 0 3px 6px rgba(245, 241, 241, 0.1);
  }

  /* Sidebar icons */
  .modern-icon {
    clip-path: inset(0 0 0 0 round 10px);
  }
</style>
{% endblock %}

{% block content %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">

<header style="background-image: url('https://img.freepik.com/premium-photo/fintech-icon-abstract-financial-technology-background_34663-91.jpg?w=2000'); background-size: cover; padding: 5px 0; display: grid; grid-template-columns: auto 1fr; gap: 20px; justify-items: center; align-items: center;">
  <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhEYp1Ms55GKpRiyGycyExeolQXvYImlI7vg&usqp=CAU" alt="Logo" style="width: 80px; height: 80px; padding: 5px;">
  <div>
    <h2 style="color: #fff; font-size: 36px; font-weight: bold; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); margin: 0;">Bentha Technologies Dashboard</h2>
    <p style="color: #fff; font-size: 18px; opacity: 0.8; margin-top: 10px;">Your cutting-edge solution for Computer Science and Information Technology</p>
  </div>
</header>




<div class="dashboard-container">
  <ul class="sidebar">
    <h1 style="color: white; text-align: center; background-color: green;">Computer Science And Information Technology</h1>
    <a href="/software_development" title="Software Development" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
      <i class="fas fa-code fa-5x modern-icon" style="color: #051b33; background-color: #063108; padding: 20px; width: 150px; height: 120px; display: flex; justify-content: center; align-items: center; position: relative; filter: brightness(100%);">
        <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff; text-rendering: optimizeLegibility;">Software Development</span>
      </i>
    </a>
  
  <a href="/programming" title="Programming" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
  <i class="fas fa-laptop-code fa-5x modern-icon" style="color: #252c33; background-color: #5e0c5e; padding: 20px; width: 150px; height: 120px;">
    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Programming</span>
  </i>
</a>

<a href="/computer_training" title="Computer Training" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
  <i class="fas fa-graduation-cap fa-5x modern-icon" style="color: #420e14; background-color: #160230; padding: 20px; width: 150px; height: 120px;">
    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Computer Training</span>
  </i>
</a>

<!-- Network Security -->
<a href="/network_security" title="Network Security" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
  <i class="fas fa-shield-alt fa-5x modern-icon" style="color: #1a1206; background-color: #690714; padding: 20px; width: 150px; height: 120px;">
    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Network Security</span>
  </i>
</a>

<!-- Cloud Computing -->
<a href="/cloud_computing" title="Cloud Computing" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
  <i class="fas fa-cloud fa-5x modern-icon" style="color: #032135; background-color: #80181d; padding: 20px; width: 150px; height: 120px;">
    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Cloud Computing</span>
  </i>
</a>

<!-- Artificial Intelligence -->
<a href="/artificial_intelligence" title="Artificial Intelligence" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
  <i class="fas fa-robot fa-5x modern-icon" style="color: #630c10; background-color: #033502; padding: 20px; width: 150px; height: 120px;">
    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Artificial Intelligence</span>
  </i>
</a>

<!-- Data Science -->
<a href="/data_science" title="Data Science" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
  <i class="fas fa-chart-line fa-5x modern-icon" style="color: #150357; background-color: #220331; padding: 20px; width: 150px; height: 120px;">
    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Data Science</span>
  </i>
</a>

<!-- Internet of Things -->
<a href="/internet_of_things" title="Internet of Things" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
  <i class="fas fa-wifi fa-5x modern-icon" style="color: #1a0202; background-color: #241601; padding: 20px; width: 150px; height: 120px;">
    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Internet of Things</span>
  </i>
</a>

  
</div>
  
<div>
  <h1 style="color: white; text-align: center; background-color: green;">Business Administration</h1>
  <a href="/Employee" title="Employee" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
    <i class="fas fa-user fa-5x modern-icon" style="color: #032204; background-color: #333203; padding: 20px; width: 150px; height: 100px;">
      <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Employee</span>
    </i>
  </a>
  
  <a href="/Employer_dashboard" title="Employer" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
    <i class="fas fa-building fa-5x modern-icon" style="color: #0e0a09; background-color: #5f1607; padding: 20px; width: 150px; height: 100px;">
      <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Employer</span>
    </i>
  </a>
  
  <a href="/{{ BASE_URL }}admin/" title="Administration" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
    <i class="fas fa-user-cog fa-5x modern-icon" style="color: #021236; background-color: #07110c; padding: 20px; width: 150px; height: 100px;">
      <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Admin</span>
    </i>
  </a>
  
  <a href="/Inventory" title="Inventory Management" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
    <i class="fas fa-boxes fa-5x modern-icon" style="color: #200530; background-color: #053611; padding: 20px; width: 150px; height: 100px;">
      <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Inventory</span>
    </i>
  </a>
  
  <a href="/report_dashboard" title="Reports" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
    <i class="fas fa-chart-bar fa-5x modern-icon" style="color: #25422e; background-color: #0c0f3d; padding: 20px; width: 150px; height: 100px;">
      <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Reports</span>
    </i>
  </a>
  
  <h1 style="color: white; text-align: center; background-color: green;">Student Portal for Computer Science And Information Technology</h1>
<a href="/student_list" title="Student" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
  <i class="fas fa-user-graduate fa-5x modern-icon" style="color: #032204; background-color: #333203; padding: 20px; width: 150px; height: 100px;">
    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Students</span>
  </i>
</a>

</ul>


<style> .activity-container {
  display: flex;
  justify-content: center;
}

.activity-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

.activity-box {
  border: 1px solid #ddd;
  padding: 10px;
  border-radius: 5px;
  background-color: #ffffff;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  max-width: 300px;
  flex: 1 1 300px; /* Adjust the width as needed */
}

.activity-box:hover {
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
}

.activity-header {
  font-weight: bold;
  margin-bottom: 5px;
}

.activity-timestamp {
  color: #777;
  margin-bottom: 5px;
}

.activity-description {
  font-size: 16px;
}
</style>
<h2 style="text-align: center;">Recent Activities</h2>
<ul class="activity-list">
  {% for activity in activities %}
  <li class="activity-box" onclick="window.location.href='{{ activity.url }}';" style="cursor: pointer;">
    <div class="activity-header">
      {{ activity.user.username }} - {{ activity.activity_type }}
      {% if activity.user_logout %}
      (User logged out)
      {% endif %}
    </div>
    <div class="activity-timestamp">
      {{ activity.timestamp }}
    </div>
    <div class="activity-description">
      {{ activity.description }}
    </div>
  </li>
  {% endfor %}
</ul>


<div class="content">
  <h2>USD to KSH Exchange Rate Dashboard</h2>
  <div class="chart-container">
    <div class="chart">
      <canvas id="forexChart"></canvas>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // Wait for the DOM content to be fully loaded
  document.addEventListener('DOMContentLoaded', function() {
    async function fetchForexRates() {
      try {
        // Dummy data for demonstration
        const dummyRate = Math.random() * (120 - 110) + 110; // Random rate between 110 and 120
        const date = new Date().toLocaleTimeString();
        
        // Push dummy data to the chart
        forexChart.data.labels.push(date);
        forexChart.data.datasets[0].data.push(dummyRate);
        forexChart.update();

        // Remove old data points if exceeding a certain length
        if (forexChart.data.labels.length > 10) {
          forexChart.data.labels.shift();
          forexChart.data.datasets[0].data.shift();
        }

        // Schedule next data fetch after 5 seconds
        setTimeout(fetchForexRates, 5000);
      } catch (error) {
        console.error('Error fetching forex rates:', error);
      }
    }

    // Chart configuration
    var forexData = {
      labels: [],
      datasets: [{
        label: "USD to KSH Exchange Rate",
        data: [],
        backgroundColor: "rgba(75, 192, 192, 0.2)",
        borderColor: "rgba(75, 192, 192, 1)",
        borderWidth: 1
      }]
    };

    var forexChartCanvas = document.getElementById("forexChart").getContext("2d");
    var forexChart = new Chart(forexChartCanvas, {
      type: "line",
      data: forexData,
      options: {
        responsive: true,
        scales: {
          y: {
            beginAtZero: false
          }
        }
      }
    });

    // Start fetching data
    fetchForexRates();
  });
</script>


{% endblock %}
