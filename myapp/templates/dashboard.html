{% extends "master.html" %}

{% block title %}
  Dashboard | Bentha Technologies
{% endblock %}





{% block styles %}
<style>
  /* Add your custom styles here */

  /* Dashboard container */
  .dashboard-container {
    display: grid;
    grid-template-columns: 1fr 3fr;
    grid-gap: 20px;
    padding: 20px;
  }

  /* Sidebar */
  .sidebar {
    background-color: #007f46;
    color: #fff;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .sidebar h2 {
    margin-top: 0;
    margin-bottom: 20px;
    font-size: 18px;
  }

  .sidebar ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .sidebar li {
    margin-bottom: 10px;
  }

  .sidebar a {
    color: #fff;
    text-decoration: none;
    font-size: 16px;
    display: flex;
    align-items: center;
  }

  .sidebar a:hover {
    color: #f1f1f1;
  }

  /* Main content */
  .content {
    padding: 20px;
    display: flex;
    flex-direction: column;
  }

  .content h2 {
    margin-top: 0;
    margin-bottom: 20px;
  }

  /* Charts */
  .chart-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    margin-bottom: 20px;
  }

  .chart {
    flex-basis: calc(50% - 10px);
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    border-radius: 4px;
    padding: 20px;
    margin-bottom: 10px;
  }

  /* Tables */
  .table-container {
    margin-top: 20px;
    overflow-x: auto;
  }

  .table {
    border-collapse: collapse;
    width: 100%;
  }

  .table th,
  .table td {
    padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd;
  }

  .table th {
    background-color: #f2f2f2;
  }

  /* Responsive Styles */

  @media screen and (max-width: 768px) {
    .dashboard-container {
      grid-template-columns: 1fr;
    }

    .chart {
      flex-basis: 100%;
    }
  }

  @media screen and (max-width: 576px) {
    .sidebar {
      padding: 10px;
    }

    .sidebar h2 {
      font-size: 16px;
    }

    .chart-container {
      flex-direction: column;
    }

    .chart {
      flex-basis: 100%;
      margin-right: 0;
      margin-bottom: 20px;
    }

    .sidebar a.image-link {
      display: block;
      margin-bottom: 20px;
    }

    .sidebar a.image-link img {
      width: 100%;
      height: auto;
    }

    .sidebar a.image-link span {
      position: static;
      transform: none;
      font-size: 20px;
    }
  }
</style>
{% endblock %}

{% block content %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">

<header style="background-image: url('https://img.freepik.com/premium-photo/fintech-icon-abstract-financial-technology-background_34663-91.jpg?w=2000'); background-size: cover; padding: 5px 0; display: grid; grid-template-columns: auto 1fr; gap: 20px; justify-items: center; align-items: center;">
  <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhEYp1Ms55GKpRiyGycyExeolQXvYImlI7vg&usqp=CAU" alt="Logo" style="width: 80px; height: 80px; padding: 5px;">
  <div>
    <h2 style="color: #fff; font-size: 36px; font-weight: bold; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); margin: 0;">Bentha Technologies Dashboard</h2>
    <p style="color: #fff; font-size: 18px; opacity: 0.8; margin-top: 10px;">Your cutting-edge solution for Computer Science and Information Technology</p>
  </div>
</header>




<div class="dashboard-container" >
  <style>
.dashboard-container {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 20px;
    justify-items: center;
    align-items: center;
    background-color: #f0f7f4; /* Brighter color */
    background-image: linear-gradient(#bfcccf17, rgba(145, 178, 190, 0.685)), url("https://www.nsta.org/sites/default/files/hero/Blog_NetworkingIsVitalComputerScienceTeacher.jpg");
    background-size: cover;
    background-position: center;
    padding: 20px 0;
    border-radius: 20px;
    box-shadow: 0 3px 6px rgba(245, 241, 241, 0.1);
}



</style>
<ul>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  
  <!-- New Features for Computer Science and Information Technology -->
  <div>
  <h1 style="color: white; text-align: center;">Computer Science And Information Technology</h1>
  <style>
  .modern-icon {
    clip-path: inset(0 0 0 0 round 10px);
  }
  </style>
  
  <a href="/software_development" title="Software Development" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
    <i class="fas fa-code fa-5x modern-icon" style="color: #051b33; background-color: #063108; padding: 20px; width: 150px; height: 120px; display: flex; justify-content: center; align-items: center; position: relative; filter: brightness(100%);">
      <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff; text-rendering: optimizeLegibility;">Software Development</span>
    </i>
  </a>
  
  
  
  
  
  <a href="/programming" title="Programming" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
  <i class="fas fa-laptop-code fa-5x modern-icon" style="color: #252c33; background-color: #5e0c5e; padding: 20px; width: 150px; height: 120px;">
    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Programming</span>
  </i>
</a>

<a href="/computer_training" title="Computer Training" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
  <i class="fas fa-graduation-cap fa-5x modern-icon" style="color: #420e14; background-color: #160230; padding: 20px; width: 150px; height: 120px;">
    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Computer Training</span>
  </i>
</a>

<!-- Network Security -->
<a href="/network_security" title="Network Security" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
  <i class="fas fa-shield-alt fa-5x modern-icon" style="color: #1a1206; background-color: #690714; padding: 20px; width: 150px; height: 120px;">
    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Network Security</span>
  </i>
</a>

<!-- Cloud Computing -->
<a href="/cloud_computing" title="Cloud Computing" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
  <i class="fas fa-cloud fa-5x modern-icon" style="color: #032135; background-color: #80181d; padding: 20px; width: 150px; height: 120px;">
    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Cloud Computing</span>
  </i>
</a>

<!-- Artificial Intelligence -->
<a href="/artificial_intelligence" title="Artificial Intelligence" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
  <i class="fas fa-robot fa-5x modern-icon" style="color: #630c10; background-color: #033502; padding: 20px; width: 150px; height: 120px;">
    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Artificial Intelligence</span>
  </i>
</a>

<!-- Data Science -->
<a href="/data_science" title="Data Science" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
  <i class="fas fa-chart-line fa-5x modern-icon" style="color: #150357; background-color: #220331; padding: 20px; width: 150px; height: 120px;">
    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Data Science</span>
  </i>
</a>

<!-- Internet of Things -->
<a href="/internet_of_things" title="Internet of Things" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
  <i class="fas fa-wifi fa-5x modern-icon" style="color: #1a0202; background-color: #241601; padding: 20px; width: 150px; height: 120px;">
    <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Internet of Things</span>
  </i>
</a>

  
</div>
  
<div>
  <h1 style="color: white; text-align: center;">Business Administration</h1>
  <a href="/Employee" title="Employee" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
    <i class="fas fa-user fa-5x modern-icon" style="color: #032204; background-color: #333203; padding: 20px; width: 150px; height: 100px;">
      <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Employee</span>
    </i>
  </a>
  
  <a href="/Employer_dashboard" title="Employer" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
    <i class="fas fa-building fa-5x modern-icon" style="color: #0e0a09; background-color: #5f1607; padding: 20px; width: 150px; height: 100px;">
      <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Employer</span>
    </i>
  </a>
  
  <a href="/{{ BASE_URL }}admin/" title="Administration" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
    <i class="fas fa-user-cog fa-5x modern-icon" style="color: #021236; background-color: #07110c; padding: 20px; width: 150px; height: 100px;">
      <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Admin</span>
    </i>
  </a>
  
  <a href="/Inventory" title="Inventory Management" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
    <i class="fas fa-boxes fa-5x modern-icon" style="color: #200530; background-color: #053611; padding: 20px; width: 150px; height: 100px;">
      <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Inventory</span>
    </i>
  </a>
  
  <a href="/report_dashboard" title="Reports" style="position: relative; display: inline-block; margin-bottom: 80px; margin-right: 11px; text-align: center;">
    <i class="fas fa-chart-bar fa-5x modern-icon" style="color: #25422e; background-color: #0c0f3d; padding: 20px; width: 150px; height: 100px;">
      <span style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1; font-size: 16px; font-weight: bold; color: #ffffff;">Reports</span>
    </i>
  </a>
  
  
</ul>
</div>

</div>


<style>
.activity-list {
    list-style: none;
    padding-left: 200px;
    margin: 0 auto; /* Center-align horizontally */
    margin-left: 10px; /* Add left margin */
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    color: black;
}


  .activity-box {
      border: 1px solid #ddd;
      padding: 10px;
      border-radius: 5px;
      background-color: #ffffff;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      flex: 1;
      max-width: 300px; /* Adjust the maximum width as needed */
  }

  .activity-header {
      font-weight: bold;
      margin-bottom: 5px;
  }

  .activity-timestamp {
      color: #777;
      margin-bottom: 5px;
  }

  .activity-description {
      font-size: 16px;
  }
</style>

<div>
  <h2 style="text-align: center;">Recent Activities</h2>
  <ul class="activity-list">
      {% for activity in activities %}
          <li class="activity-box" onclick="window.location.href='{{ activity.url }}';" style="cursor: pointer;">
              <div class="activity-header">
                  {{ activity.user.username }} - {{ activity.activity_type }}
                  {% if activity.user_logout %}
                      (User logged out)
                  {% endif %}
              </div>
              <div class="activity-timestamp">
                  {{ activity.timestamp }}
              </div>
              <div class="activity-description">
                  {{ activity.description }}
              </div>
          </li>
      {% endfor %}
  </ul>
</div>





</div>
  <div class="content">
  <h2>USD to KSH Exchange Rate Dashboard</h2>
  <div class="chart-container">
    <div class="chart">
      <canvas id="forexChart"></canvas>
    </div>
  </div>
</div>

<!-- Include Chart.js library -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // Function to fetch real-time USD to KSH exchange rates
  async function fetchForexRates() {
    try {
      // Fetch exchange rates from the free Exchange Rates API
      const response = await fetch('https://api.apilayer.com/exchangerates_data/latest?base=KES');
      const data = await response.json();

      // Extract USD to KSH exchange rate from the API response
      const rate = data.rates.USD;

      // Update the chart with the new data
      const date = new Date().toLocaleTimeString();
      forexChart.data.labels.push(date);
      forexChart.data.datasets[0].data.push(rate);
      forexChart.update();

      // Remove the oldest data point if the chart data exceeds a certain length
      if (forexChart.data.labels.length > 10) {
        forexChart.data.labels.shift();
        forexChart.data.datasets[0].data.shift();
      }

      // Schedule the next update (e.g., every 5 seconds)
      setTimeout(fetchForexRates, 5000); // 5000 milliseconds = 5 seconds
    } catch (error) {
      console.error('Error fetching forex rates:', error);
    }
  }

  // Initial data for the chart
  var forexData = {
    labels: [], // Will be populated with dates
    datasets: [{
      label: "USD to KSH Exchange Rate",
      data: [], // Will be populated with exchange rates
      backgroundColor: "rgba(75, 192, 192, 0.2)",
      borderColor: "rgba(75, 192, 192, 1)",
      borderWidth: 1
    }]
  };

  // Get chart canvas element
  var forexChartCanvas = document.getElementById("forexChart").getContext("2d");

  // Create the chart
  var forexChart = new Chart(forexChartCanvas, {
    type: "line",
    data: forexData,
    options: {
      responsive: true,
      scales: {
        y: {
          beginAtZero: false
        }
      }
    }
  });

  // Fetch initial forex rates and start updating
  fetchForexRates();
</script>



{% endblock %}
