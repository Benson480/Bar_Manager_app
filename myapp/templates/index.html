<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BenthaTechnology | Home</title>
  <link rel="icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhEYp1Ms55GKpRiyGycyExeolQXvYImlI7vg&usqp=CAU" type="image/x-icon">
  <!-- css -->
  <!--bootstrap-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <!--font awesome-->
  <script src="https://kit.fontawesome.com/175df408b4.js" crossorigin="anonymous"></script>

  <!-- google fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital@1&family=Josefin+Sans:ital,wght@0,400;1,400;1,500&display=swap" rel="stylesheet">

  <style>

    /* Left Column */
    .left-column {
      flex: 0.5;
      padding-right: 10px;
      background-color: #dac4c4;
      padding: 80px;
      text-align: left;
    }
  
    /* Right Column */
    .right-column {
      flex: 8;
      display: flex;
      flex-wrap: wrap;
      justify-content: flex-start;
      padding: 80px;
    }
  
    .category-link {
      text-decoration: none;
      color: #333;
      font-weight: bold;
    }
  
    .product-card {
      border: 1px solid #ddd;
      border-radius: 5px;
      padding: 20px;
      margin: 0px;
      width: calc(33.33% - 20px);
      background-color: #fff;
    }
  
    .product-card img {
      max-width: 100%;
    }
  
    .category-list {
      list-style: none;
      padding: 0;
      display: flex;
      flex-direction: column;
    }
  
    .category-list li {
      margin-bottom: 20px;
    }
  
    /* Header Styles */
    .navbar {
      background-color: transparent;
      margin: 0;
      padding: 0;
      list-style-type: none;
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 999;
    }
  
    .navbar-brand {
      color: #244c0c;
      font-family: 'Josefin Sans', sans-serif;
      font-weight: bold;
      position: absolute;
      left: 120px;
      padding-top: 30px;
    }
  
    .nav-item {
      float: right;
      display: block;
      text-align: center;
      padding: 12px 10px;
      text-decoration: none;
      overflow: hidden;
      text-align: center;
      padding: 12px 10px;
      text-decoration: none;
      background-color: #ffffff;
      z-index: 100;
    }
  
    .nav-link {
      color: hsl(97, 64%, 13%);
      font-size: 1.2rem;
      font-family: 'Josefin Sans', sans-serif;
    }
  
    @media (max-width: 767px) {
      .navbar-brand {
        left: 20px;
      }
  
      .navbar-collapse {
        position: absolute;
        top: 60px;
        left: 0;
        right: 0;
        background-color: white;
      }
  
      .navbar-nav {
        width: 100%;
        text-align: center;
      }
  
      .nav-item {
        float: none;
        display: inline-block;
      }
  
      .navbar-toggler {
        position: absolute;
        top: 15px;
        right: 20px;
      }
    }
  
    /* Image Section Styles */
    .image-section {
      background-image: url("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTisOmuXlpkSScXHatNqfAJmXwUcd96Jjrv6dYdDo97&s");
      background-size: cover;
    }
  
    .main-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }
  
    .container-fluid {
      padding: 0;
      overflow: hidden;
      margin: 0 auto;
      max-width: 100%;
    }
  
    .logo-img {
      width: 80px;
      height: 80px;
      padding-top: 10px;
      padding-left: 0px;
      float: left;
    }
  
    /* Chatbot Styles */
    #chatbot-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 250px;
      height: 300px;
      border-radius: 8px;
      overflow: hidden;
    }
  
    #chatbot-frame {
      width: 100%;
      height: 100%;
    }
  
    #chatbot-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 4px;
      background-color: #244c0c;
      color: #ffffff;
      border: none;
    }
  
    #chatbot-toggle:hover {
      cursor: pointer;
      background-color: #A4BE7B;
    }
  
    /* Message Styles */
    .message {
      margin: 10px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
  
    .user {
      background-color: #f1f1f1;
    }
  
    .assistant {
      background-color: #e5e5ff;
    }
  
    /* Product Styles */
    .product {
      background-color: #fff;
      border: 1px solid #e0e0e0;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin: 5px;
      padding: 50px;
      width: calc(33.33% - 20px);
      text-align: center;
      transition: transform 0.2s ease-in-out;
      height: 100%;
    }
  
    .product:hover {
      transform: translateY(-5px);
    }
  
    .product img {
      max-width: 100%;
      height: auto;
      max-height: 150px;
    }
  
    .product p {
      margin: 10px 0;
      width: 100%;
    }
  
    .product button {
      background-color: #e7ebf0;
      color: #1d0707;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      transition: background-color 0.2s ease-in-out;
    }
  
    .product button:hover {
      background-color: #6ea8e2;
    }
  
    .no-images {
      text-align: center;
      font-size: 18px;
      margin-top: 20px;
    }
  
     /* CSS for controlling the number of columns */
  .row {
    display: flex;
    flex-wrap: wrap;
    margin: -10px; /* Compensate for the margin on .product */
  }

  .col-md-4 {
    flex: 0 0 calc(25% - 20px); /* Four columns per row with some margin */
    margin: 10px;
  }

  /* Display two columns per row with some margin on small screens */
  @media (max-width: 767px) {
    .col-md-4 {
      flex: 0 0 calc(50% - 20px); /* Two columns per row with some margin on smaller screens */
    }
  }
  
    .custom-button {
      width: 150px;
      text-align: center;
      transition: background-color 0.3s;
    }
  
    .custom-button {
      background-color: rgb(12, 129, 57);
    }
  
    .custom-button:hover {
      background-color: rgb(0, 255, 0);
    }
  
    .full-page-container {
      display: none;
      justify-content: center;
      align-items: center;
      height: 80vh;
      text-align: center;
      background-color: rgb(255, 255, 255);
      background-size: cover;
      padding: 100px;
    }

    .not-found-animation {
        color: #dc3545;
        font-size: 2rem;
        margin-bottom: 20px;
    }

    .go-back-button {
        background-color: #007bff;
        color: #fff;
        padding: 10px 80px;
        font-size: 1rem;
        cursor: pointer;
        border: none;
        border-radius: 5px;
        transition: background-color 0.3s ease;
    }

    .go-back-button:hover {
        background-color: #0056b3;
    }
  
    @keyframes notFoundAnimation {
      0% {
        opacity: 0;
        transform: translateY(-20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }
  
    .not-found-animation {
      animation: notFoundAnimation 1s ease-in-out infinite;
    }
  
    @media (max-width: 600px) {
      .container {
        max-width: 100%;
        padding: 10px;
      }
  
      .li {
        width: 100%;
      }
    }
  
    .nav-link:hover {
      transform: translateX(10px);
      background-color: #e5e5ff;
    }
    
    
  </style>
  
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">.
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <!-- Include jQuery -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

  <!-- Include Bootstrap JS -->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>
  <section class="image-section" id="title" >
    <div class="container-fluid" style="background-color: rgb(230, 159, 182); position: fixed; top: 0; width: 100%; z-index: 999;">
      <!-- navbar -->
      <nav class="navbar navbar-expand-lg bg-transparent fixed-navbar">
        <div class="container-fluid">
          <img class="logo-img" src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhEYp1Ms55GKpRiyGycyExeolQXvYImlI7vg&usqp=CAU' alt="logo-img" />
          <a class="navbar-brand" href="#" style="font-size: x-large; margin-right: auto;">BenthaTechnology</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            Menu
          </button>
          <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="/about" style="color: #244c0c;"><i class="fas fa-info-circle"></i> About</a>
              </li>
              <li class="nav-item" style="width: 200px;">
                <a class="nav-link" href="/announcements" style="color: #244c0c;"><i class="fas fa-bullhorn"></i> Announcements</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/contacts" style="color: #244c0c;"><i class="fas fa-envelope"></i> Contact</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" style="color: #244c0c;"><i class="fas fa-briefcase"></i> Careers</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/login" style="color: #244c0c;"><i class="fas fa-sign-in-alt"></i> Sign In</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/cart_view" style="color: #244c0c;"><i class="fas fa-shopping-cart"></i> Cart</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/{{ BASE_URL }}admin/" target="_blank" style="color: #244c0c;"><i class="fas fa-cogs"></i> Admin</a>
              </li>
            </ul>            
          </div>
        </div>
      </nav>      
    </div>
  </section>
  <section class="image-section" id="title" style="display: flex; width: 100%;">
    <!-- Left column for categories -->
    <div class="left-column" style="width: 18%; float: left;">
        <h2 style="text-align: left;">Categories</h2>
        <ul class="category-list" style="text-align: left;">
            <li><a class="category-link" href="#" data-category="All">All Categories</a></li>
            {% for category in categories %}
                <li><a class="category-link" href="#" data-category="{{ category.name }}">{{ category.name }}</a></li>
            {% endfor %}
        </ul>
    </div>

    <script>
      function formatNumber(elementId) {
        var element = document.getElementById(elementId);
        if (element) {
          var formattedValue = parseFloat(element.innerText).toLocaleString();
          element.innerText = formattedValue;
        }
      }
    </script>

    <!-- Right column for images -->
    <div class="right-column" id="product-container" style="width: 100%; float: right; background-color: #3498db; background-image: url('https://wallpapers.com/images/featured/sky-mvehfqz6w2ges2dj.jpg'); background-size: cover; background-position: center;">
        <input type="text" id="searchInput" placeholder="Search for products..." style="text-align: center; width: 100%; max-width: 1000px; margin: 5px 0;">
        <div class="searchResults" style="background-color: #6ea8e2; display: grid;width: 100%; height: 100%; display: flexbox; padding: 20px;">
            {% if categorized_images %}
                {% for category, images in categorized_images.items %}
                    {% if images %}
                    <div class="row">
                      <h2 style="text-align: center; margin-top: 15px;" id="{{ category.name }}">{{ category.name }}</h2>
                      {% for image in images %}
                          <div class="col-md-3 product-card" data-category="{{ category.name }}" style="display: flex; flex-direction: column;">
                              <!-- Your image display code here -->
                              <p><strong>Title: {{ image.title }}</strong></p>
                              <a href="{{ image.image.url }}" target="_blank">
                                  <img src="{{ image.image.url }}" alt="Uploaded Image" style="width: 100%;">
                              </a>
                              {% if image.about_Image %}
                                  <p>{{ image.about_Image|wordwrap:40 }}</p>
                              {% endif %}
                              <p><strong>Uploaded At:</strong> {{ image.uploaded_at }}</p>
                              <p><strong>Status:</strong> {{ image.status }}</p>
                              <p><strong>Price:</strong> <span class="formattedNumber" data-field="price">{{ image.price|default:"" }}</span> ksh per {{ image.UnitOfMeasure }}</p>
                              <div style="margin-top: auto;">
                              <form method="POST" action="{% url 'login' %}?next={% url 'add_to_cart' image.id %}">
                                  {% csrf_token %}
                                  <button type="submit" class="custom-button" style="background-color: rgb(12, 129, 57);">Add to Cart</button>
                              </form>
                              </div>
                          </div>
                          {% if forloop.counter|divisibleby:4 %}
                              <!-- Close the current row after every 4 images -->
                          </div>
                          <div class="row">
                          {% endif %}
                      {% endfor %}
                  </div>
                    {% endif %}
                {% endfor %}
            {% endif %}
        </div>
    </div>
</section>

<div class="full-page-container" id="notFoundContainer" style="display: none;">
  <h1 class="not-found-animation" style="color: red;">
      No items match your search.
      <!-- Add your "Not Found" gif here -->
      <img src="https://cdn.dribbble.com/users/595978/screenshots/3603965/media/250a710e7478f92ef5fbb41bae572d58.gif" alt="Not Found" width="100" height="100">
  </h1>
  <button onclick="refreshPage()" class="go-back-button" style="align-items: center;">Refresh</button>
</div>

<script>
    function refreshPage() {
        location.reload(); // This will reload the current page
    }
</script>

<script>
  // filter products with category
  document.addEventListener("DOMContentLoaded", function () {
    const categoryLinks = document.querySelectorAll(".category-link");
    const productCards = document.querySelectorAll(".product-card");

    categoryLinks.forEach(function (link) {
      link.addEventListener("click", function (event) {
        event.preventDefault();
        const selectedCategory = link.getAttribute("data-category");

        // Handle "All Categories" separately to show all products and categories
        if (selectedCategory === "All") {
          productCards.forEach(function (card) {
            card.style.display = "block";
          });

          categoryLinks.forEach(function (category) {
            category.style.display = "block";
          });
        } else {
          // Hide all product cards and category names except the selected one
          productCards.forEach(function (card) {
            const cardCategory = card.getAttribute("data-category");
            if (selectedCategory === "All" || cardCategory === selectedCategory) {
              card.style.display = "block";
            } else {
              card.style.display = "none";
            }
          });

          // Hide all category names except the selected one
          categoryLinks.forEach(function (category) {
            const categoryData = category.getAttribute("data-category");
            if (categoryData === selectedCategory || categoryData === "All") {
              category.style.display = "block";
            } else {
              category.style.display = "none";
            }
          });
        }
      });
    });
  });
</script>

<!-- Javascript to format separate on thousand using comma -->
<script>
  // formatNumber.js

document.addEventListener('DOMContentLoaded', function () {
  var formattedNumbers = document.querySelectorAll('.formattedNumber');

  formattedNumbers.forEach(function (element) {
    var field = element.dataset.field;
    var value = element.innerText;

    if (field === 'price') {
      // Format the number for the 'price' field
      var formattedValue = parseFloat(value).toLocaleString();
      element.innerText = formattedValue;
    }

    // Add more conditions for other fields if needed
  });
});

</script>


<script>
  // JavaScript code for search functionality
  document.addEventListener("DOMContentLoaded", function () {
    const searchInput = document.getElementById("searchInput");
    const productList = document.querySelectorAll(".product-card");
    const notFoundContainer = document.getElementById("notFoundContainer");
    const leftColumn = document.querySelector(".left-column");
    const rightColumn = document.getElementById("product-container");

    searchInput.addEventListener("input", function () {
      const searchTerm = searchInput.value.trim().toLowerCase();
      let found = false;

      productList.forEach(function (product) {
        const title = product.querySelector("p strong").textContent.toLowerCase();
        const about = product.querySelector("p:nth-child(3)").textContent.toLowerCase();

        if (title.includes(searchTerm) || about.includes(searchTerm)) {
          product.style.display = "block";
          found = true;
        } else {
          product.style.display = "none";
        }
      });

      if (!found) {
        notFoundContainer.style.display = "block";
        leftColumn.style.display = "none";
        rightColumn.style.display = "none";
      } else {
        notFoundContainer.style.display = "none";
        leftColumn.style.display = "block";
        rightColumn.style.display = "block";
      }
      
      // Hide category names without associated products
      categoryLinks.forEach(function (category) {
        const categoryName = category.getAttribute("data-category");
        let categoryExists = false;
        productList.forEach(function (product) {
          const cardCategory = product.getAttribute("data-category");
          if (cardCategory === categoryName) {
            categoryExists = true;
          }
        });
        if (!categoryExists && categoryName !== "All") {
          const categoryHeader = document.getElementById(categoryName);
          if (categoryHeader) {
            categoryHeader.style.display = "none";
          }
        }
      });
    });
  });
</script>





  
  


  
  <!-- js -->
  <!-- bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-z3gFVY5Ed5R9I8+fYjv8Xg7YiMw5+ZpOZBpFJtTBhI932AdHTZHKiQgV4jMMwwgh" crossorigin="anonymous"></script>

  <div id="chatbot-container">
    <div id="chatbot-frame" style="display: none;">
      <div id="chatbot-messages"></div>
      <input type="text" id="chatbot-input" placeholder="Type your message..." />
      <button id="chatbot-send" onclick="sendMessage()">Send</button>
    </div>
    <button id="chatbot-toggle" onclick="toggleChatbot()">Chat</button>
  </div>
  <!-- Add the following JavaScript code below the HTML content -->
  <script>
    // Get the necessary DOM elements
    const chatbotFrame = document.getElementById("chatbot-frame");
    const chatbotToggle = document.getElementById("chatbot-toggle");
    const chatbotMessages = document.getElementById("chatbot-messages");
    const inputElement = document.getElementById("chatbot-input");
  
    function toggleChatbot() {
      if (chatbotFrame.style.display === "none") {
        chatbotFrame.style.display = "block";
        chatbotToggle.innerHTML = "Close Chat";
      } else {
        chatbotFrame.style.display = "none";
        chatbotToggle.innerHTML = "Chat";
      }
    }
  
    function appendMessage(sender, message) {
      const messageElement = document.createElement("div");
      messageElement.classList.add("message", sender === "user" ? "user" : "assistant");
      messageElement.innerText = message;
      chatbotMessages.appendChild(messageElement);
    }
  
    async function sendMessage() {
      const message = inputElement.value;
  
      // Append user message to the chatbot messages
      appendMessage("user", message);
      inputElement.value = "";
  
      // Send user message to ChatGPT API
      try {
        const response = await fetch('https://api.openai.com/v1/engines/davinci-codex/completions', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': 'Bearer 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',
          },
          body: JSON.stringify({
            model: 'gpt-3.5-turbo',
            messages: [{ role: 'system', content: 'You are a helpful assistant.' }, { role: 'user', content: message }],
          }),
        });
  
        if (!response.ok) {
          throw new Error('Failed to receive response from the chatbot.');
        }
  
        const data = await response.json();
        const assistantReply = data.choices[0].message.content;
        // Append assistant reply to the chatbot messages
        appendMessage("assistant", assistantReply);
      } catch (error) {
        console.error('Error:', error);
        // In case of error, show a fallback message to the user
        appendMessage("assistant", "Sorry, something went wrong while processing your request.");
      }
    }
  </script>
  
  <footer style="background-color: #462644; color: #FFF; text-align: center; padding: 10px;">
    <div style="display: flex; justify-content: space-between; max-width: 800px; margin: 0 auto;">
      <div>
        <p>Contact: fertppm@solutions.com</p>
      </div>
      <div>
        <p>Location: 00606 Nairobi, City</p>
      </div>
      <div>
        <p>Dev Team: Benson & Stephanie</p>
      </div>
    </div>
    <p>© 2023 EnterpriseEaze. All rights reserved.</p>
  </footer>


</body>

</html>
